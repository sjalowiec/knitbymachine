---
import BaseLayout from '../layouts/BaseLayout.astro';

const updated = "October 3, 2025";
---

<BaseLayout title="Privacy Policy | Knit by Machine" description="Privacy policy for Knit by Machine - how we collect, use, and protect your information.">
  <style>
    :root {
      --kbm-green: #52682d;
      --kbm-green-2: #738c52;
      --page-bg: #f7f8f7;
    }

    main {
      max-width: 860px;
      padding: 80px 20px;
      margin: 0 auto;
    }

    .kbm-breadcrumb {
      font-size: 0.9rem;
      margin-bottom: 1rem;
      color: #6b7280;
    }

    .kbm-legal h1 {
      font-size: clamp(1.8rem, 3.5vw, 2.4rem);
      line-height: 1.2;
      margin: 0 0 0.75rem 0;
    }

    .meta {
      color: #6b7280;
      font-size: 0.95rem;
      margin-bottom: 2rem;
    }

    .kbm-card {
      background: #fff;
      border: 1px solid #e5e7eb;
      border-radius: 16px;
      padding: 24px 22px;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.06);
    }

    .kbm-toc {
      background: #fff;
      border: 1px solid #e5e7eb;
      border-radius: 12px;
      padding: 14px 16px;
      margin: 0 0 24px 0;
    }

    .kbm-toc details summary {
      cursor: pointer;
      font-weight: 600;
    }

    .kbm-toc nav a {
      display: block;
      padding: 6px 0;
      text-decoration: none;
      color: var(--kbm-green);
    }

    .kbm-toc nav a:hover {
      text-decoration: underline;
    }

    /* Back-to-top button */
    #kbm-top {
      position: fixed;
      bottom: 30px;
      right: 30px;
      width: 46px;
      height: 46px;
      border: none;
      border-radius: 50%;
      background: var(--kbm-green);
      color: #fff;
      font-size: 1.5rem;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.25);
      opacity: 0;
      visibility: hidden;
      transition: opacity 0.3s ease, visibility 0.3s ease, transform 0.2s ease;
      z-index: 9999;
    }

    #kbm-top.show {
      opacity: 1;
      visibility: visible;
    }

    #kbm-top:hover {
      background: var(--kbm-green-2);
      transform: translateY(-3px);
    }
  </style>

  <main>
    <div class="kbm-legal">
      <div class="kbm-breadcrumb">Knit by Machine ▸ Privacy Policy</div>
      <h1>Privacy Policy</h1>
      <div class="meta">Last updated: {updated}</div>

      <aside class="kbm-toc">
        <details open>
          <summary>On this page</summary>
          <nav>
            <a href="#info-we-collect">1. Information We Collect</a>
            <a href="#how-we-use">2. How We Use Your Information</a>
            <a href="#sharing">3. Sharing of Information</a>
            <a href="#data-security">4. Data Security</a>
            <a href="#your-choices">5. Your Choices</a>
            <a href="#changes">6. Changes to This Policy</a>
            <a href="#contact">7. Contact Us</a>
          </nav>
        </details>
      </aside>

      <section class="kbm-card">
        <h2 id="info-we-collect">1. Information We Collect</h2>
        <p>We may collect the following types of information:</p>
        <ul>
          <li><strong>Personal Information:</strong> When you create an account, subscribe, or make a purchase, we may collect your name, email address, billing information, and other details you choose to share.</li>
          <li><strong>Usage Information:</strong> Non-personal information such as pages visited, browser type, IP address, and device details.</li>
          <li><strong>Cookies:</strong> We use cookies and similar technologies to enhance your experience, remember preferences, and analyze site traffic.</li>
        </ul>

        <h2 id="how-we-use">2. How We Use Your Information</h2>
        <p>Information collected is used to:</p>
        <ul>
          <li>Provide access to memberships, tools, and courses</li>
          <li>Process payments and manage subscriptions</li>
          <li>Send important account or service-related updates</li>
          <li>Deliver newsletters, promotions, or resources (you may unsubscribe at any time)</li>
          <li>Improve our website, offerings, and customer support</li>
        </ul>

        <h2 id="sharing">3. Sharing of Information</h2>
        <p>We do not sell your personal information. We may share limited data only with:</p>
        <ul>
          <li><strong>Service Providers:</strong> Companies that help us process payments, deliver emails, or provide customer support.</li>
          <li><strong>Legal Compliance:</strong> When required to comply with law or legal process.</li>
        </ul>

        <h2 id="data-security">4. Data Security</h2>
        <p>We use reasonable measures to protect your personal information. However, no online service is 100% secure.</p>

        <h2 id="your-choices">5. Your Choices</h2>
        <ul>
          <li>You can unsubscribe from promotional emails at any time.</li>
          <li>You may disable cookies in your browser, though some site features may not function properly.</li>
          <li>You may contact us to update or correct your account information.</li>
        </ul>

        <h2 id="changes">6. Changes to This Policy</h2>
        <p>We may update this Privacy Policy from time to time. The "Effective Date" above will reflect the latest version. Continued use of our Services after changes means you accept the updated Policy.</p>

        <h2 id="contact">7. Contact Us</h2>
        <p>If you have questions about this Privacy Policy, please contact us at:</p>
        <p><a href="mailto:contact@KnitbyMachine.com">contact@KnitbyMachine.com</a></p>
      </section>
    </div>

    <button id="kbm-top" aria-label="Back to top">↑</button>
  </main>

  <script>
    const topBtn = document.getElementById("kbm-top");
    if (topBtn) {
      window.addEventListener("scroll", () => {
        if (window.scrollY > 200) {
          topBtn.classList.add("show");
        } else {
          topBtn.classList.remove("show");
        }
      });

      topBtn.addEventListener("click", () => {
        window.scrollTo({ top: 0, behavior: "smooth" });
      });
    }
  </script>
</BaseLayout>
